سلام توی این پست میخوام راجب یه SQL Query صحبت کنم که چند روز پیش برای یک پروژه نوشتم بنظرم چالش جالبی بود واسه خودم و ارزش اینو داشت که یه پست کوتاه راجبش بنویسم

خب اول بزارید مورد بیزینس رو توضیح بدم و بعد بریم سراغ مشکل تصور کنید که یک تیبل products داریم که فقط یک فیلد title داره به این شکل
```
 id |       title
----+------------------------
  1 | Sample Product 1
  2 | Sample Product 2
  3 | Sample Product 3
(3 rows)
```

و حالا هر کدوم از product های ما میتونه یکسری attribute و به قولی ویژگی داشته باشه مثلا وزن و طول و عرض و میخوایم برای این ها مقداری مشخص کنیم خب در مرحله اول احتمالن میگید خب بیایم یه تیبل دیگه بسازیم برای attributes به این شکل

```
 id |      title      | product_id | value
----+-------------------------+-----------+-------
  1 | Height          | 2          | 10.5
  2 | Length          | 3          | 20.0
  3 | Width           | 2          | 5.5
(3 rows)
```

ولی خب داخل تیبیلی مثل این مشکلی که وجود داره اینه که اگر ما attribute های زیادی داخل دیتابیس داشته باشیم و بین این attribute ها title های مشترک زیادی وجود داشته باشه
ما مجبود میشیم جای زیادی رو برای این title های تکراری داشته باشیم بنابراین در این مواقع راه حل پیشنهادی normalization هست (اگر نمیدونید چیه داخل چنل تلگرام راجبش چنتا پست نوشتم)
البته در کیس من یک دلیل دیگه هم برای normalization تایتل ها وجود داشت اونم فیلتر کردن بود که جلوتر بهش میرسیم
در این مورد به خصوص نرمالایزیشن نتیجه اش میشه یه تیبل دیگه برای attribute_title ها 
خب همین جا بیاین اسم تیبل مخصوص attribute_title هارو بزاریم همین attribute_title و اسم تیبلی که قراره با product رابطه داشته باشه رو هم attribute_value 
به این شکل

```
attribute_title:
 id |      title    
----+---------------
  1 | Height        
  2 | Length        
  3 | Width          
(3 rows)
```
و تیبل دیگه امون هم میشه این شکلی
```
attribute_value:
 id |       value        | attribute_title_id
----+--------------------+--------------
  1 | 3                  |            1
  2 | 5                  |            2
  3 | 1                  |            3
```
